---
import { getCollection } from "astro:content";
import EventCard from "./EventCard.astro";

const events = await getCollection("events");

const upcommingEvents = events.filter(event => event.data.date >= new Date());
const pastEvents = events.filter(event => event.data.date <= new Date());
---

<!-- Card Blog -->
<div class="max-w-7xl px-4 pt-3 pb-5 sm:px-6 lg:px-8 lg:pt-6 lg:pb-7 mx-auto">
    <!-- Title -->
    <div class="max-w-2xl mx-auto text-center mb-5 lg:mb-7">
        <h2
            class="text-4xl font-bold md:text-6xl md:leading-tight dark:text-white"
        >
            Events
        </h2>
        <p class="mt-1 text-gray-600 dark:text-neutral-400">
            Lorem ipsum dolor sit amet consectetur adipisicing elit.
        </p>
    </div>

    <hr class="mb-5 lg:mb-7" />
    <!-- End Title -->

    <!-- Grid -->
    <h2
        class="text-center mb-2 text-2xl font-normal md:text-4xl md:leading-tight dark:text-white"
    >
        Upcoming
    </h2>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {upcommingEvents.map(event => <EventCard event={event} />)}
    </div>
    <!-- End Grid -->
    <hr class="my-5 lg:my-7" />
    <!-- Grid -->
    <h2
        class="text-center mb-2 text-2xl font-normal md:text-4xl md:leading-tight dark:text-white"
    >
        Past
    </h2>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {pastEvents .map(event => <EventCard event={event} />)}
    </div>
    <!-- End Grid -->
</div>
<!-- End Card Blog -->
